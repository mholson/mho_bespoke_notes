%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
%             _             _
%            | |           | |
%  _ __ ___  | |__    ___  | | ___   ___   _ __       ___   ___   _ __ ___
% | '_ ` _ \ | '_ \  / _ \ | |/ __| / _ \ | '_ \     / __| / _ \ | '_ ` _ \
% | | | | | || | | || (_) || |\__ \| (_) || | | | _ | (__ | (_) || | | | | |
% |_| |_| |_||_| |_| \___/ |_||___/ \___/ |_| |_|(_) \___| \___/ |_| |_| |_|
%
% Author: Mark H. Olson
% Website: https://mholson.com
% Github: https://github.com/mholson
% 
% File: mhofunctionbubblesets.sty
% Created: 2021-01-03
%
% Description: Based on the post
% https://divisbyzero.com/2013/04/09/bubble-diagrams-for-functions-in-latex-using-tikz 
%
% \begin{bubbleset}
% \def\domainsize{4} % Enter the number of elements in the domain
% \def\codomainsize{3} % Enter the number of elements in the codomain
% \def\domainname{\(x\)}% Enter the name of the domain
% \def\codomainname{\(y\)} %Enter the name of the codomain
% \newcommand{\domainelement}[2][]{\delement[#1]{#2}{\domainsize}{\codomainsize}}
% \newcommand{\codomainelement}[2][]{\codelement[#1]{#2}{\domainsize}{\codomainsize}}
% Give the elements of the domain. If the kth element of the domain is \(a\), write: 
% \domainelement[\(a\)]{k}
% \domainelement[$1$]{1}
% \domainelement[$2$]{2}
% \domainelement[$3$]{3}
% \domainelement[$4$]{4}
% Give the elements of the codomain. If the kth element of the codomain is \(a\), write: 
% \codomainelement[\(a\)]{k}
% \codomainelement[$10$]{1}
% \codomainelement[$4$]{2}
% \codomainelement[$2$]{3}
% Give all the function arrows here. If you want an arrow from the kth element of the domain to the jth element of the domain, write
% \functionarrow{k}{j}
% \functionarrow{1}{1}
% \functionarrow{2}{2}
% \functionarrow{3}{2}
% \functionarrow{4}{3}
% \end{bubbleset}
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=




%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	PACKAGE OPTIONS & SETUP
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{markolsonbubbleset}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	DEFINING STYLES
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\tikzstyle{bubblesettitle} =[rectangle, draw, fill=\cnPrimaryLightGreen, rounded corners, right=10pt]
\tikzstyle{bubblesetboundary} =[rectangle,rounded corners, draw,very thick,inner sep=15pt]
\tikzstyle{bubbleseyfunctionarrow} =[>=latex, ->,very thick,shorten <=2pt,shorten >=2pt, color=\cnOrange]
\tikzstyle{bubblesetbullet} =[fill=\cnPrimaryGreen,circle,minimum width=4pt,inner sep=1pt]
\newenvironment{bubbleset}{
\begin{tikzpicture}
}
{
\domainboundary[\domainsize]{}
\codomainboundary[\codomainsize]{}
\node[bubblesettitle] at (domainboundary.north west){\domainname};
\node[bubblesettitle] at (codomainboundary.north west){\codomainname};
\end{tikzpicture}
}
\newcommand{\delement}[4][]{\node[bubblesetbullet,label=left:#1] (d#2) at (0,{max((#4-#3)/2,0)+#3-#2+1}) {};}
\newcommand{\codelement}[4][]{\node[bubblesetbullet,label=right:#1] (c#2) at (4,{max((#3-#4)/2,0)+#4-#2+1}) {};}
\newcommand{\functionarrow}[2]{\draw[bubbleseyfunctionarrow] (d#1) -- (c#2);}
\newcommand{\codomainboundary}[1][]{\node[bubblesetboundary,right=5pt, fit=(c1) (c#1),minimum width=2.5cm] (codomainboundary){} ;}
\newcommand{\domainboundary}[1][]{\node[bubblesetboundary,left=5pt,fit=(d1) (d#1),minimum width=2.5cm] (domainboundary) {} ;}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\endinput
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
% End of file `mhofunctionbubblesets.sty'.
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=