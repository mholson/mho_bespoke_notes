%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
%             _             _
%            | |           | |
%  _ __ ___  | |__    ___  | | ___   ___   _ __       ___   ___   _ __ ___
% | '_ ` _ \ | '_ \  / _ \ | |/ __| / _ \ | '_ \     / __| / _ \ | '_ ` _ \
% | | | | | || | | || (_) || |\__ \| (_) || | | | _ | (__ | (_) || | | | | |
% |_| |_| |_||_| |_| \___/ |_||___/ \___/ |_| |_|(_) \___| \___/ |_| |_| |_|
%
% File: beamerthemesthlmnord.sty
% Author: Mark H. Olson
% Website: https://mholson.com
% Github: https://github.com/mholson
%
% Updated: 2022-04-11 > Version 3.1
% Updated: 2021-08-21 > Version 3.0
% Created: 2013-07-31

% Description: sthml Beamer Theme 1.0 was originally heavily based on the 
% hsrmbeamer theme (Benjamin Weiss) as a pdfLaTeX alternative.
%
% This theme is now primart based on the work of
% Copyright (c) 2018 by P. Vanberg 
% https://github.com/pvanberg/flux-beamer
%
% GNU General Publick Liscense Extended to this work.
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You can find the GNU General Public License at <http://www.gnu.org/licenses/>.
%
% Important disclaimer from P. Vanberg regarding the original theme
%
% The "%" symbols inside hbox are all very important here.
% The \hbox enviroment will insert spaces whenever there's whitespace
% Adding a % at the END of each line ensures that any hard returns aren't
% interpreted as white space. This allows the color boxes to be flush against
% one another. If a faint white line appears one could probably do something like
% hspace{-1px} and add an additional pixel-or-two wide beamercolorbox.	
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Theme Options   
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\ProvidesPackage{beamerthemesthlmnord}
\mode<presentation>

% > > > Document Class options
\newif\if@dosectionpages
\@dosectionpagesfalse
\DeclareOptionBeamer{sectionpages}{\@dosectionpagestrue}
\newif\if@dobibref
\@dobibreffalse
\DeclareOptionBeamer{bibref}{\@dobibreftrue}
\newif\if@doenumarabic
\@doenumarabicfalse
\DeclareOptionBeamer{enumarabic}{\@doenumarabictrue}
\newif\if@docodehl
\@docodehlfalse
\DeclareOptionBeamer{codehl}{\@docodehltrue}
\DeclareOptionBeamer{mode}{\def\beamer@sthlmnordtheme@mode{#1}}
\ExecuteOptionsBeamer{mode=dark}  %Default Dark Mode
\ProcessOptionsBeamer

\def\beamer@sthlmnordtheme@darkmode{dark}
\def\beamer@sthlmnordtheme@lightmode{light}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Required Packages   
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\RequirePackage{tikz}
\RequirePackage{ragged2e}
\RequirePackage{metalogo}
\RequirePackage{mhotables}
\RequirePackage{currfile}
\RequirePackage[yyyymmdd]{datetime}
\RequirePackage{subfiles}
\RequirePackage{verbatim}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Modular Use with Other Classes   
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

% > > > Table Support 
\NewTableCommand{\tablepagebreak}{\pagebreak}

% > > > import EXAM cls support 
\newenvironment{EnvUplevel}
{\par\bigskip\vbox\bgroup
  % We set \leftskip to provide the correct left margin for whatever
  % is inside of the environment:
  \leftskip=\@totalleftmargin
  \advance\leftskip-\leftmargin
  % We adjust \@totalleftmargin (and linewidth?) in case there's a
  % solution environment inside of the environment:
  \advance\@totalleftmargin-\leftmargin
  \advance\linewidth\leftmargin
}
{\egroup\nobreak}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Color Theme (DARK MODE DEFAULT)  
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\RequirePackage{mhocolorthemenord}

\ifx\beamer@sthlmnordtheme@mode\beamer@sthlmnordtheme@darkmode%

  % > > > For ease of reading switich Light (nord 9) and Dark (nord 10) Blue
  \definecolor{nordNine}{HTML}{5E81AC}        % nord10 -> nord9
  \definecolor{nordTen}{HTML}{81A1C1}         % nord9 -> nord10
  \definecolor{nordTwelve}{HTML}{BF616A}      % nord11 -> nord12
  \definecolor{nordEleven}{HTML}{D08770}      % nord12 -> nord11

  % > > >  Global Definitions
  \setbeamercolor*{normal text}{fg=nordFive}
  \setbeamercolor*{background canvas}{bg=nordOne}
  \setbeamercolor*{structure}{fg=nordSix}

  % > > >  Title Page
  \setbeamercolor*{title}{fg=nordTwo}
  \setbeamercolor*{subtitle}{fg=nordThree}

  \setbeamercolor*{author title}{fg=nordTen}
  \setbeamercolor*{author}{fg=nordTen!50}

  \setbeamercolor*{institute title}{fg=nordTen}
  \setbeamercolor*{institute}{fg=nordTen!50}

  \setbeamercolor*{date}{fg=nordTen!50}

  \setbeamercolor{nordOneBox}{bg=nordTen!50}
  \setbeamercolor{nordTwoBlueBox}{bg=nordEight}

  % > > >  Text
  \setbeamercolor*{example text}{fg=nordSeven}
  \setbeamercolor*{alerted text}{fg=nordEleven}

  % > > >  Footnotes
  \setbeamercolor*{footnotemark}{fg=nordTen}
  \setbeamercolor*{footnote}{fg=nordEight}
  \setbeamercolor*{footer}{fg=nordFive}
  \setbeamercolor*{footer text}{fg=nordFive}
  \setbeamercolor*{footnote book}{fg=nordEight}

  % > > >  Frame Structure
  \setbeamercolor*{section in head/foot}{fg=nordFour, bg=nordOne}
  \setbeamercolor*{page number in head/foot}{fg=nordSix}
  \setbeamercolor*{number in head/foot}{fg=nordFour, bg=nordOne}

  \setbeamercolor*{header primary}{bg=nordZero}
  \setbeamercolor*{frame title}{fg=nordFour}
  \setbeamercolor*{frame subtitle}{fg=nordFour}
  \setbeamercolor*{frame mark}{fg=nordEight}

  % > > >  Lists
  \setbeamercolor*{itemize item}{fg=nordTen}
  \setbeamercolor*{itemize subitem}{fg=nordEight}
  \setbeamercolor*{itemize subsubitem}{fg=nordSeven}
  \setbeamercolor*{enumerate item}{fg=nordTen}
  \setbeamercolor*{enumerate subitem}{fg=nordEight}
  \setbeamercolor*{enumerate subsubitem}{fg=nordSeven}
  \setbeamercolor*{description body begin}{fg=nordEight}
  \setbeamercolor*{description item}{fg=nordTen}

  % > > >  Figures
  \setbeamercolor*{caption name}{fg=nordFour}

  % > > >  Table of Contents
  \setbeamercolor*{section in toc}{fg=nordTen}
  \setbeamercolor*{subsection in toc}{fg=nordEight}

  % > > >  Section Page
  \setbeamercolor*{section page}{fg=nordTen}
  \setbeamercolor*{subsection page}{fg=nordTen}

  % > > > Code Blocks with Minted
  \setbeamercolor{sthmlnord_codeblock}{fg=nordFour,bg=nordZero}
  \setbeamercolor{sthmlnord_captionblock}{fg=nordOne,bg=nordEight}

  % > > >  Default block
  \setbeamercolor{block title}{bg=nordTen,fg=nordFour}%
  \setbeamercolor{block body}{bg=nordFour, fg=nordTwo}%
  \setbeamercolor{block title alerted}{bg=nordTwelve, fg=nordFour}%
  \setbeamercolor{block body alerted}{bg=nordFour, fg=nordTwo}%
  \setbeamercolor{block title example}{bg=nordSeven, fg=nordFour}%
  \setbeamercolor{block body example}{bg=nordFour, fg=nordTwo}%

  % > > >  Bibliography
  \setbeamercolor*{bibliography entry author}{fg=nordFour}
  \setbeamercolor*{bibliography entry title}{fg=nordFour}
  \setbeamercolor*{bibliography entry location}{fg=nordFour}
  \setbeamercolor*{bibliography entry note}{fg=nordFour}

 % > > > Math Environments 
 \newcommand{\prob}{\cnordTwelve{\faFire} \cnordFour{\textbf{Problem:}\enskip}}
 \newcommand{\soln}{\cnordEight{\faSignature} \cnordFour{\textbf{Solution:} \enskip}}
 \newcommand{\an}{\cnordFour{\faSignature} \cnordFour{\textbf{Answer:} \enskip}}
 \newcommand{\ans}{\cnordFour{\faSignature} \cnordFour{\textbf{Answers:} \enskip}}
 \renewcommand{\proof}{\cnordThirteen{\faLightbulb[regular]} \cnordFour{\textbf{Proof:} \enskip}}
 %  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  %=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

  %=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
  %   Color Theme (LIGHT MODE)  
  %=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\else%
  \ifx\beamer@sthlmnordtheme@mode\beamer@sthlmnordtheme@lightmode%
    % > > >  Global Definitions
    \setbeamercolor*{normal text}{fg=nordZero}
    \setbeamercolor*{background canvas}{bg=nordSix}
    \setbeamercolor*{structure}{fg=nordZero}

    % > > >  Title Page
    \setbeamercolor*{title}{fg=nordTwo}
    \setbeamercolor*{subtitle}{fg=nordThree}

    \setbeamercolor*{author title}{fg=nordThree}
    \setbeamercolor*{author}{fg=nordTen}

    \setbeamercolor*{institute title}{fg=nordThree}
    \setbeamercolor*{institute}{fg=nordTen}

    \setbeamercolor*{date}{fg=nordThree}

    \setbeamercolor{nordOneBox}{bg=nordOne}
    \setbeamercolor{nordTwoBlueBox}{bg=nordEight}

    % > > >  Text
    \setbeamercolor*{example text}{fg=nordSeven}
    \setbeamercolor*{alerted text}{fg=nordEleven}

    % > > >  Footnotes
    \setbeamercolor*{footnotemark}{fg=nordNine}
    \setbeamercolor*{footnote}{fg=nordEight}
    \setbeamercolor*{footer}{fg=nordThree}
    \setbeamercolor*{footer text}{fg=nordThree}
    \setbeamercolor*{footnote book}{fg=nordEight}

    % > > >  Frame Structure
    \setbeamercolor*{section in head/foot}{fg=nordSix, bg=nordTwo}
    \setbeamercolor*{page number in head/foot}{fg=nordSix, bg=nordThree}

    \setbeamercolor*{header primary}{bg=nordOne}
    \setbeamercolor*{frame title}{fg=nordFive}
    \setbeamercolor*{frame subtitle}{fg=nordFive}
    \setbeamercolor*{frame mark}{fg=nordEight}

    % > > >  Lists
    \setbeamercolor*{itemize item}{fg=nordNine}
    \setbeamercolor*{itemize subitem}{fg=nordEight}
    \setbeamercolor*{itemize subsubitem}{fg=nordSeven}
    \setbeamercolor*{enumerate item}{fg=nordZero}
    \setbeamercolor*{enumerate subitem}{fg=nordZero}
    \setbeamercolor*{enumerate subsubitem}{fg=nordZero}
    \setbeamercolor*{description body begin}{fg=nordEight}
    \setbeamercolor*{description item}{fg=nordZero}

    % > > >  Figures
    \setbeamercolor*{caption name}{fg=nordNine}

    % > > >  Table of Contents
    \setbeamercolor*{section in toc}{fg=nordTen}
    \setbeamercolor*{subsection in toc}{fg=nordNine}

    % > > >  Section Page
    \setbeamercolor*{section page}{bg=nordSix,fg=nordTen}
    \setbeamercolor*{subsection page}{bg=nordSix,fg=nordNine}

    % > > > Code Blocks with Minted
    \setbeamercolor{sthmlnord_codeblock}{fg=nordFour,bg=nordZero}
    \setbeamercolor{sthmlnord_captionblock}{fg=nordOne,bg=nordEight}

    % > > >  Default block
    \setbeamercolor{block title}{bg=nordOne,fg=nordFive}
    \setbeamercolor{block body}{bg=nordFive, fg=nordTwo}
    \setbeamercolor{block title alerted}{bg=nordEleven, fg=nordFive}
    \setbeamercolor{block body alerted}{bg=nordFive, fg=nordTwo}
    \setbeamercolor{block title example}{bg=nordSeven, fg=nordFive}
    \setbeamercolor{block body example}{bg=nordFive, fg=nordTwo}

    % > > >  Bibliography
    \setbeamercolor*{bibliography entry author}{fg=nordTwo}
    \setbeamercolor*{bibliography entry title}{fg=nordTwo}
    \setbeamercolor*{bibliography entry location}{fg=nordTwo}
    \setbeamercolor*{bibliography entry note}{fg=nordTwo}

    % > > > Math Environments 
    \newcommand{\prob}{\cnordThree{\faFire} \cnordZero{\textbf{Problem:}\enskip}}
    \newcommand{\soln}{\cnordThree{\faSignature} \cnordZero{\textbf{Solution:} \enskip}}
    \newcommand{\an}{\cnordThree{\faSignature} \cnordZero{\textbf{Answer:} \enskip}}
    \newcommand{\ans}{\cnordThree{\faSignature} \cnordZero{\textbf{Answers:} \enskip}}
    \renewcommand{\proof}{\cnordThree{\faLightbulb[regular]} \cnordZero{\textbf{Proof:} \enskip}}
    %  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
    %=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

    % > > > Color mode error returns
  \else%
    \PackageError{beamercolorthemesthlmNord}{Unknow style option `\beamer@sthlmnordtheme@mode`}{extra help}
  \fi%
\fi%
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Math
%   Includes Math marcros that I use for my slides.  Careful, these definitions
%   may conflict with other packages or your own defnitions.  Also, if you choose 
%   to remove this package, then you will need to uncomment the font-awesome package
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\RequirePackage{mhomacros}

%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Custom Commands
\newcommand{\snord}{\cnordTen{sthlm}\cnordEight{NORD}}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Bibliography
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\if@dobibref
\RequirePackage{cleveref}
\RequirePackage[backend=biber,style=numeric]{biblatex}
%\setbeamertemplate{bibliography item}{
% 	\usebeamercolor[bg]{primary}\insertbiblabel
%}
\addbibresource{\bibfilename}
\else
\fi
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Code Highlighting Style
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\if@docodehl
\RequirePackage{minted}
% > > > Nord style Requires custom install: https://github.com/sbrisard/nord_pygments
\usemintedstyle{nord} 

\setminted{autogobble,xleftmargin=10pt}

\newenvironment{beamercodeblock}[1][sep=.4em,leftskip=.6em]{%
    \vspace{\parskip}%
    \begin{beamercolorbox}[#1]{sthmlnord_codeblock}
}{%
    \end{beamercolorbox}%
    \vspace{-1.5pt}
}
\newcommand{\beamercaptionblock}[1]{%
    \begin{beamercolorbox}[leftskip=.6em,sep=.4em]{sthmlnord_captionblock}%
        #1
    \end{beamercolorbox}
}

% Line Numbers
\renewcommand{\theFancyVerbLine}{\sffamily
\textcolor{nordFour}{\scriptsize
\oldstylenums{\arabic{FancyVerbLine}}}}
\else
\fi

%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Enumerated Lists
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\RequirePackage[shortlabels]{enumitem}
\setlist[1]{labelindent=\parindent} % < Usually a good idea
\setlist[itemize]{labelsep=1em, leftmargin=*}
\setlist[itemize,1]{label=\(\cDarkBlue{\circledcirc}\)}
\setlist[itemize,2]{label=\(\cDarkBlue{\bullet}\)}
\setlist[itemize,3]{label=\(\cDarkBlue{\triangleright}\)}
\setlist[enumerate]{labelsep=1em, leftmargin=1.5pc}
\if@doenumarabic%
  \setlist[enumerate,1]{label = \cDarkBlue{\arabic*.},
    ref   = \arabic*}
  \setlist[enumerate,2]{label = \cDarkBlue{\arabic*.},
    ref   = \arabic*}
\else%
  \setlist[enumerate,1]{label = (\cDarkBlue{\alph*}),
    ref   = \theenumi.\emph{\alph*}}
  \setlist[enumerate,2]{label = \cDarkBlue{\roman*}),
    ref   = \theenumii.\roman*}
\fi%
\setlist[description]{font=\sffamily\bfseries}

%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   FONTS
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\RequirePackage{microtype}
\RequirePackage{textcomp}

% > > > Whoa! Need a large font ... here it is!
\newcommand\Massive{\@setfontsize\VeryHuge{90}{60}}
\RequirePackage[warnings-off={mathtools-colon,mathtools-overbracket}]{unicode-math}
\RequirePackage{libertinus-otf}

\setlength{\parindent}{0pt}
\setlength{\parskip}{1ex}

\setbeamerfont*{header title}{size=\large,series=\bfseries}
\setbeamerfont*{header subtitle}{size=\normalsize}
\setbeamerfont*{toc title}{size=\normalsize,series=\bfseries}
\setbeamerfont*{toc subtitle}{size=\small}
\setbeamerfont*{footnote}{size=\fontsize{6}{6}}
\setbeamerfont*{bibliography entry author}{size=\normalsize,series=\normalfont}
\setbeamerfont*{bibliography entry title}{size=\normalsize,series=\bfseries}
\setbeamerfont*{bibliography entry location}{size=\small,series=\normalfont}
\setbeamerfont*{bibliography entry note}{size=\small,series=\normalfont}
\setbeamerfont*{block title}{size=\normalsize}
\setbeamerfont*{block body}{size=\small}
\setbeamerfont*{block title example}{size=\normalsize}
\setbeamerfont*{block body example}{size=\small}
\setbeamerfont*{block title alerted}{size=\normalsize}
\setbeamerfont*{block body alerted}{size=\small}

\setbeamerfont{title}{series=\scshape, size=\LARGE}
\setbeamerfont{subtitle}{shape=\upshape}

\setbeamerfont*{author title}{series=\bfseries, shape=\upshape, size=\footnotesize}
\setbeamerfont*{author}{series=\normalfont, shape=\upshape, size=\footnotesize}

\setbeamerfont*{institute title}{series=\bfseries, shape=\upshape, size=\footnotesize}
\setbeamerfont*{institute}{series=\normalfont, shape=\upshape, size=\footnotesize}

\setbeamerfont{date}{series=\bfseries, shape=\scshape, size=\tiny}
\setbeamerfont{section in head/foot}{shape=\upshape}
\setbeamerfont{number in head/foot}{shape=\upshape}
\setbeamerfont{section page}{series=\bfseries, shape=\upshape, size=\Large}
\setbeamerfont{subsection page}{series=\bfseries, shape=\upshape, size=\normalsize}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Frame Header
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% ---> Remove numbering of frames when using \framebreak

\setbeamertemplate{frametitle continuation}{}

\setbeamertemplate{frametitle}
{
  \nointerlineskip
  \begin{beamercolorbox}[wd=\paperwidth,leftskip=0.2cm,ht=0.6cm,dp=0.25cm]{header primary}%
    {\usebeamercolor*[fg]{frame title}\usebeamerfont{header title}\insertframetitle}
    \ifx\insertframesubtitle\empty
      \else {\usebeamercolor*[fg]{frame mark} {\small\faTerminal} }
      {\usebeamercolor*[fg]{frame subtitle}\usebeamerfont{header subtitle}\insertframesubtitle} \fi
    \hfill
  \end{beamercolorbox}%
  \nointerlineskip
}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%  Frame Footer
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\setbeamertemplate{footline}{%
  \hbox{%
    \begin{beamercolorbox}[
        wd=.9\paperwidth,
        ht=2ex,
        dp=1ex,
        center]{section in head/foot}%
      {\usebeamerfont{section in head/foot}\texttt{\currfilename}}
    \end{beamercolorbox}%
    \begin{beamercolorbox}[
      wd=.1\paperwidth,
      ht=2ex,
      dp=1ex,
      center]{page number in head/foot}
      {\usebeamerfont{page number in head/foot} \insertframenumber\ {\usebeamercolor[fg]{footnote book}\faBookOpen}\ \inserttotalframenumber}
    \end{beamercolorbox}%
  }
}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Footnotes
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\hfuzz=\maxdimen % Remove warning hbox overfull (TODO) 
\renewcommand\footnoterule{\color{nordThree!50}\hspace*{-0.5cm}\rule{0.95\paperwidth}{0.2pt}\vspace*{0.07cm}}
\setbeamertemplate{footnote}{
  \begin{beamercolorbox}[wd=\textwidth, leftskip=0.3cm,rightskip=0.3cm]{footer text}%
    {\usebeamerfont{footnote}{\usebeamercolor{footnotemark}\insertfootnotemark}{\usebeamercolor{footnotemark}\insertfootnotetext}}
  \end{beamercolorbox}%
}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Deck Title Page
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% Inspired from https://github.com/dennisog/beamer-purdue
\def\titlepage{\usebeamertemplate{title page}}
\setbeamertemplate{title page}
{
  \begin{frame}[plain]
    \hspace*{-0.1\linewidth}
    \begin{minipage}[t]{1\paperwidth}
      \hbox{%
        \begin{beamercolorbox}[
            wd=0.1\linewidth,
            ht=0.28\linewidth,
            dp=0.02\linewidth]{nordOneBox}
        \end{beamercolorbox}
        \begin{beamercolorbox}[
            wd=1\linewidth,
            ht=0.28\linewidth,
            dp=0.02\linewidth,
            sep=3em]{nordTwoBlueBox}
          \parbox{0.8\linewidth}{%
          {\usebeamerfont{title} \usebeamercolor[fg]{title} \noindent \inserttitle} \\
          {\usebeamerfont{subtitle} \usebeamercolor[fg]{subtitle} \insertsubtitle}
          }%
        \end{beamercolorbox}
      }%
    \end{minipage}
    \vspace{0.25em}%
    \hfill\\
    \begin{minipage}[c]{0.02\paperwidth}
      \vspace{0pt}
      \hfill\\
    \end{minipage}%
    \begin{minipage}[c]{0.7\paperwidth}
      \vspace{0pt}
      {\usebeamerfont{author title}\usebeamercolor*[fg]{author title}\titleAuthor: {\usebeamerfont{author}\usebeamercolor*[fg]{author}\insertauthor}}\\[0.2cm]
      {\usebeamerfont{institute title}\usebeamercolor*[fg]{institute title}\titleInstitute: {\usebeamerfont{institute}\usebeamercolor*[fg]{institute}\insertinstitute}}\\[0.2cm]
      {\usebeamerfont{institute title}\usebeamercolor*[fg]{institute title}\titleMiscI: {\usebeamerfont{institute}\usebeamercolor*[fg]{institute}\descMiscI}}\\[0.2cm]
      {\usebeamerfont{institute title}\usebeamercolor*[fg]{institute title}\titleMiscII: {\usebeamerfont{institute}\usebeamercolor*[fg]{institute}\descMiscII}} \\[0.2cm]
      {\usebeamerfont{date}\usebeamercolor*[fg]{date}\XeLaTeX ed \ on \insertdate}
    \end{minipage}%
    \begin{minipage}[c]{0.2\paperwidth}
      \vspace{0pt}
      \includegraphics[width=0.65\linewidth,keepaspectratio]{\inserttitlegraphic}
    \end{minipage}%
    \hfill
    \addtocounter{framenumber}{-1}
  \end{frame}
}%
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Section Frame
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\if@dosectionpages

  \AtBeginSection[]{
    \begin{frame}[plain,noframenumbering]
      \vfill
      \begin{center}
        {\usebeamerfont{section page}\usebeamercolor*[fg]{section page}\insertsectionhead}
      \end{center}
      \par%
      \vfill%
    \end{frame}
  }
  \AtBeginSubsection[]{
    \begin{frame}[plain,noframenumbering]
      \vfill
      \begin{center}
        {\usebeamerfont{section page}\usebeamercolor*[fg]{section page}\insertsectionhead}
        \par%
        {\usebeamerfont{subsection page}\usebeamercolor*[fg]{subsection page}\insertsubsectionhead}
      \end{center}
      \par%
      \vfill%
    \end{frame}
  }
\else
\fi
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Table of Contents
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\setbeamertemplate{section in toc}[circle unnumbered]
\setbeamertemplate{subsection in toc}[box unnumbered]
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Example Environment
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\renewenvironment{example}[1]{
  \textcolor{secondary}{#1}
}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=


%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%  Blocks
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% > > > Normal Block
\setbeamertemplate{block begin}
{
\par\vskip\medskipamount%
\begin{beamercolorbox}[colsep*=2mm]{block title}
  \usebeamerfont*{block title}\insertblocktitle%
\end{beamercolorbox}%
{\parskip0pt\par}%
\ifbeamercolorempty[bg]{block title}
{}
{\ifbeamercolorempty[bg]{block body}{}{\nointerlineskip\vskip-0.5pt}}%
\usebeamerfont{block body}%
\begin{beamercolorbox}[colsep*=2mm,vmode]{block body}%
\ifbeamercolorempty[bg]{block body}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}
% > > > Example Block
\setbeamertemplate{block example begin}
{
\par\vskip\medskipamount%
\begin{beamercolorbox}[colsep*=2mm]{block title example}
  \usebeamerfont*{block title example}\insertblocktitle%
\end{beamercolorbox}%
{\parskip0pt\par}%
\ifbeamercolorempty[bg]{block title example}
{}
{\ifbeamercolorempty[bg]{block body example}{}{\nointerlineskip\vskip-0.5pt}}%
\usebeamerfont{block body example}%
\begin{beamercolorbox}[colsep*=2mm,vmode]{block body example}%
\ifbeamercolorempty[bg]{block body example}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}
% > > > Alert Block
\setbeamertemplate{block alerted begin}
{
\par\vskip\medskipamount%
\begin{beamercolorbox}[colsep*=2mm]{block title alerted}
  \usebeamerfont*{block title alerted}\insertblocktitle%
\end{beamercolorbox}%
{\parskip0pt\par}%
\ifbeamercolorempty[bg]{block title alerted}
{}
{\ifbeamercolorempty[bg]{block body alerted}{}{\nointerlineskip\vskip-0.5pt}}%
\usebeamerfont{block body alerted}%
\begin{beamercolorbox}[colsep*=2mm,vmode]{block body alerted}%
\ifbeamercolorempty[bg]{block body alerted}{\vskip-.25ex}{\vskip-.75ex}\vbox{}%
}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Hide navigation buttons
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\setbeamertemplate{navigation symbols}{}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%   Custom Margins
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\setbeamersize{text margin left=8mm,text margin right=8mm}
%  END =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\mode<all>

%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
% End of file `beamerthemesthlmnord.sty'.
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
