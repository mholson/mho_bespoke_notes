%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
%             _             _
%            | |           | |
%  _ __ ___  | |__    ___  | | ___   ___   _ __       ___   ___   _ __ ___
% | '_ ` _ \ | '_ \  / _ \ | |/ __| / _ \ | '_ \     / __| / _ \ | '_ ` _ \
% | | | | | || | | || (_) || |\__ \| (_) || | | | _ | (__ | (_) || | | | | |
% |_| |_| |_||_| |_| \___/ |_||___/ \___/ |_| |_|(_) \___| \___/ |_| |_| |_|
%
% File: mhotheorems.sty
% Author: Mark H. Olson
% Website: https://mholson.com
% Github: https://github.com/mholson
%
% Created: 2021-05-28
%
% Description: Using thrmtools package. This style file is dependent upon either the 
% sthml.sty color themes being installed.  This has been written thanks to the
% generous help of Giles Castel: https://github.com/gillescastel
%
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mhotheorems}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%  PACKAGE OPTIONS & SETUP
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\RequirePackage{amsthm} % Mathematical environments
\RequirePackage{thmtools} % Theorem styles
\RequirePackage[framemethod=TikZ]{mdframed}

\newenvironment{verbetering}{\begin{tcolorbox}[
    arc=0mm,
    colback=white,
    colframe=green!60!black,
    title=Box Title,
    fonttitle=\sffamily,
    breakable
]}{\end{tcolorbox}}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%  Fix mdframed skipbelow
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
% https://tex.stackexchange.com/a/292090/143086

\RequirePackage{xpatch}

\makeatletter
\xpatchcmd{\endmdframed}
  {\aftergroup\endmdf@trivlist\color@endgroup}
  {\endmdf@trivlist\color@endgroup\@doendpe}
  {}{}
\makeatother
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	DEFAULT COLORS USED
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
\newcommand{\mhobackground}{\cnBGGrey}

%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=
%	BOX GEOMETRY
%=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=

\theoremstyle{definition}
\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordTwo}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordTwo, backgroundcolor=nordSix!50,
        skipabove=1\baselineskip, skipbelow=0\baselineskip,
    }
]{thmdefnbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordTen}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordTen, backgroundcolor=nordSix!50,
        skipabove=1\baselineskip, skipbelow=0\baselineskip,
    }
]{thmexamplebox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordEleven}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordEleven, backgroundcolor=nordSix!50,
        skipabove=1\baselineskip, skipbelow=0\baselineskip,
    }
]{thmtheorembox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordTwelve}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordTwelve, backgroundcolor=nordSix!50,
        skipabove=1\baselineskip, skipbelow=0\baselineskip,
    }
]{thmaxiombox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordEight}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordEight, backgroundcolor=nordSix!50,
        skipabove=1\baselineskip, skipbelow=0\baselineskip,
    }
]{thmalgobox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordEleven}, bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordEleven!70,
        skipabove=1\baselineskip, skipbelow=0\baselineskip, 
    },
    qed=\qedsymbol
]{thmproofbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{nordTen}, 
    bodyfont=\normalfont,
    numbered=no,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=nordTen!70,
        skipabove=1\baselineskip, skipbelow=0\baselineskip, 
    },
    qed={\(\cnordTen{\square}\)}
]{thmsolnbox}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{\cnBlue}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=\cnBlue
    }
]{thmblueline}

\declaretheoremstyle[
    headfont=\bfseries\sffamily\color{\cnPrimaryGreen}, bodyfont=\normalfont,
    mdframed={
        linewidth=2pt,
        rightline=false, topline=false, bottomline=false,
        linecolor=\cnPrimaryGreen
    }
]{thmgreenline}

% without color:
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, mdframed={ nobreak } ]{thmexamplebox}
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, mdframed={ nobreak } ]{thmredbox}
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont]{thmdefnbox}
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont]{thmblueline}
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, numbered=no, mdframed={ rightline=false, topline=false, bottomline=false, }, qed=\qedsymbol ]{thmproofbox}
% \declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, numbered=no, mdframed={ nobreak, rightline=false, topline=false, bottomline=false } ]{thmexplanationbox}

\declaretheorem[style=thmdefnbox, name=Definition]{definition}
\declaretheorem[style=thmexamplebox, name=Example]{example}
\declaretheorem[style=thmtheorembox, name=Proposition]{proposition}
\declaretheorem[style=thmalgobox, name=Algorithm]{algo}
\declaretheorem[style=thmtheorembox, name=Theorem]{theorem}
\declaretheorem[style=thmaxiombox, name=Axiom]{axiom}
\declaretheorem[style=thmaxiombox, numbered=no, name=Corollary]{corollary}

\declaretheorem[style=thmproofbox, name=Proof]{replacementproof}
\renewenvironment{proof}[1][\proofname]{\vspace{-10pt}\begin{replacementproof}}{\end{replacementproof}}


\declaretheorem[style=thmsolnbox, name=Solution]{tmpsoln}
\newenvironment{solution}[1][]{\vspace{-10pt}\begin{tmpsoln}}{\end{tmpsoln}}

\declaretheorem[style=thmblueline, numbered=no, name=Remark]{remark}
\declaretheorem[style=thmblueline, numbered=no, name=Note]{note}

\renewcommand{\qedsymbol}{\(\cnordEleven{\blacksquare}\)}

% \newenvironment{codeoutput}{\begin{tcolorbox}[
%     arc=0mm,
%     colback=\color{nordFour},
%     colframe=\color{nordZero},
%     title=Output,
%     fonttitle=\sffamily,
%     breakable
% ]}{\end{tcolorbox}}


%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
% End of file `mhotheorems.sty'.
%=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=
